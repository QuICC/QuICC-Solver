# This file is generated, do not modify!
include:
- remote: https://gitlab.com/cscs-ci/recipes/-/raw/master/templates/v2/.cscs.yml
- /ci/.daint_runner.yml
- /ci/.quicc_tests.yml
- /ci/.quicc_models.yml
stages:
- build
- test
- model-build-and-test
build-quicc_mpi:
  tags:
  - docker_jfrog
  stage: build
  script:
  - 'true'
  variables:
    DOCKERFILE: docker/Dockerfile_mpi
    PERSIST_IMAGE_NAME: $CSCS_REGISTRY_PATH/quicc_mpi:latest
test-quicc-lib_mpi:
  extends:
  - .test-lib
  - .cpu
  image: $CSCS_REGISTRY_PATH/quicc_mpi:latest
BoussinesqSphereDynamo_mpi:
  extends:
  - .BoussinesqSphereDynamo
  - .cpu
  image: $CSCS_REGISTRY_PATH/quicc_mpi:latest
  variables:
    PULL_IMAGE: 'NO'
    SLURM_NTASKS: '4'
    SLURM_NTASKS_PER_NODE: '4'
    QUICC_VERSION_TAG: mpi
BoussinesqShellDynamo_mpi:
  extends:
  - .BoussinesqShellDynamo
  - .cpu
  image: $CSCS_REGISTRY_PATH/quicc_mpi:latest
  variables:
    PULL_IMAGE: 'NO'
    SLURM_NTASKS: '4'
    SLURM_NTASKS_PER_NODE: '4'
    QUICC_VERSION_TAG: mpi
BoussinesqSphereRTC_mpi:
  extends:
  - .BoussinesqSphereRTC
  - .cpu
  image: $CSCS_REGISTRY_PATH/quicc_mpi:latest
  variables:
    PULL_IMAGE: 'NO'
    SLURM_NTASKS: '4'
    SLURM_NTASKS_PER_NODE: '4'
    QUICC_VERSION_TAG: mpi
BoussinesqShellRTC_mpi:
  extends:
  - .BoussinesqShellRTC
  - .cpu
  image: $CSCS_REGISTRY_PATH/quicc_mpi:latest
  variables:
    PULL_IMAGE: 'NO'
    SLURM_NTASKS: '4'
    SLURM_NTASKS_PER_NODE: '4'
    QUICC_VERSION_TAG: mpi
BoussinesqSphereTC_mpi:
  extends:
  - .BoussinesqSphereTC
  - .cpu
  image: $CSCS_REGISTRY_PATH/quicc_mpi:latest
  variables:
    PULL_IMAGE: 'NO'
    SLURM_NTASKS: '4'
    SLURM_NTASKS_PER_NODE: '4'
    QUICC_VERSION_TAG: mpi
BoussinesqShellTC_mpi:
  extends:
  - .BoussinesqShellTC
  - .cpu
  image: $CSCS_REGISTRY_PATH/quicc_mpi:latest
  variables:
    PULL_IMAGE: 'NO'
    SLURM_NTASKS: '4'
    SLURM_NTASKS_PER_NODE: '4'
    QUICC_VERSION_TAG: mpi
